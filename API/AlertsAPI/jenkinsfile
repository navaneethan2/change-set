

pipeline{
  agent any

    parameters{

        string(name:'ParamA', defaultValue:'Build')
    }

    stages {
        stage('Build'){
            when{
                expression{ params.ParamA == 'Build'}
            }
            steps{
                script{
                    sh "echo i will build now"
                }
            }

        }

        stage('Orchestration'){
            when {

                expression { params.ParamA == 'Orchestration' && changeset "*/AlertsAPI/**"}

            }
            steps{
                script{
                    sh "echo i will build now as ${params.ParamA} and i have a latest commit"
                }
            }

        }

    }

}